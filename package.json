{
  "name": "pepr",
  "description": "Kubernetes application engine",
  "author": "Defense Unicorns",
  "homepage": "https://github.com/defenseunicorns/pepr",
  "license": "Apache-2.0",
  "bin": "dist/cli.js",
  "repository": "defenseunicorns/pepr",
  "engines": {
    "node": ">=20.0.0"
  },
  "files": [
    "/dist",
    "/src",
    "!src/**/*.test.ts",
    "!src/fixtures/**",
    "!dist/**/*.test.d.ts*"
  ],
  "version": "0.0.0-development",
  "main": "dist/lib.js",
  "types": "dist/lib.d.ts",
  "scripts": {
    "build": "tsc -p config/tsconfig.root.json && node build.mjs && npm pack",
    "build:image": "npm run build && docker buildx build --output type=docker --tag pepr:dev .",
    "build:image:unicorn": "npm run build && docker buildx build --output type=docker --tag pepr/private:dev $(node scripts/read-unicorn-build-args.mjs) .",
    "ci": "npm ci",
    "cluster:k3d": "k3d cluster delete pepr-dev && k3d cluster create pepr-dev --k3s-arg '--debug@server:0' --wait && kubectl rollout status deployment -n kube-system",
    "cluster:k3d:import-upstream": "npm run build && docker buildx build --output type=docker --tag pepr:dev . && k3d image import pepr:dev -c pepr-dev",
    "cluster:k3d:import-unicorn": "npm run build && docker buildx build --output type=docker --tag pepr/private:dev $(node scripts/read-unicorn-build-args.mjs) . && k3d image import pepr/private:dev -c pepr-dev",
    "format:check": "npm run format:src && npm run format:tests && npm run format:markdown && npm run format:integration && npm run format:prettier -- --check",
    "format:fix": "npm run format:src -- --fix && npm run format:markdown -- --fix && npm run format:integration -- --fix && npm run format:prettier -- --write",
    "format:integration": "eslint --config config/eslint.integration.config.mjs integration/cli integration/helpers",
    "format:markdown": "npx -y markdownlint-cli --config config/.markdownlint.json --ignore adr --ignore integration/testroot --ignore pepr-test-module --ignore node_modules --rules config/markdownlint-step-format-rule.js \"**/*.md\"",
    "format:prettier": "prettier --config config/.prettierrc src integration/cli/**/*.ts integration/helpers/**/*.ts",
    "format:src": "eslint --config config/eslint.root.config.mjs 'src/**/*.ts' --ignore-pattern '**/*.test.ts' --ignore-pattern 'src/templates/**'",
    "format:tests": "eslint --config config/eslint.test.config.mjs 'src/**/*.test.ts'",
    "gen-data-json": "node hack/build-template-data.js",
    "prebuild": "rm -fr dist/* && npm run gen-data-json",
    "prepare": "if [ \"$NODE_ENV\" != 'production' ]; then husky; fi",
    "set-version": "bash -lc 'ver=${PEPR_VERSION:-}; if [ -z \"$ver\" ]; then git fetch --tags --force; ver=$(git describe --tags --abbrev=0); fi; ver=${ver#v}; echo Using version $ver; node ./scripts/set-version.js \"$ver\"'",
    "test": "npm run test:unit && npm run test:integration",
    "test:artifacts": "npm run build && vitest run src/build-artifact.test.ts",
    "test:docs": "vitest run --config=config/vitest.integration.config.ts integration/cli/docs/*.test.ts",
    "test:integration": "npm run test:integration:prep && npm run test:integration:run",
    "test:integration:prep": "./integration/prep.sh",
    "test:integration:run": "vitest run --config=config/vitest.integration.config.ts integration",
    "test:unit": "npm run gen-data-json && NODE_OPTIONS=--no-deprecation vitest --config config/vitest.root.config.ts run --coverage",
    "test:upgrade:unicorn": "npm run cluster:k3d && npm run cluster:k3d:import-unicorn && vitest run integration/cluster/upgrade.test.ts",
    "test:upgrade:upstream": "npm run cluster:k3d && npm run cluster:k3d:import-upstream && vitest run integration/cluster/upgrade.test.ts"
  },
  "dependencies": {
    "@types/ramda": "0.31.1",
    "command-line-args": "^6.0.1",
    "commander": "14.0.2",
    "express": "5.2.1",
    "fast-json-patch": "3.1.1",
    "heredoc": "^1.3.1",
    "http-status-codes": "^2.3.0",
    "json-pointer": "^0.6.2",
    "kubernetes-fluent-client": "3.10.14-nightly.13",
    "pino": "10.2.0",
    "pino-pretty": "13.1.3",
    "prom-client": "15.1.3",
    "quicktype-core": "^23.2.6",
    "ramda": "0.32.0",
    "ts-morph": "^27.0.0"
  },
  "devDependencies": {
    "@commitlint/cli": "20.3.1",
    "@commitlint/config-conventional": "20.3.1",
    "@semantic-release/commit-analyzer": "^13.0.1",
    "@semantic-release/git": "^10.0.1",
    "@semantic-release/npm": "^13.0.0",
    "@semantic-release/release-notes-generator": "^14.1.0",
    "@types/command-line-args": "^5.2.3",
    "@types/eslint": "9.6.1",
    "@types/express": "5.0.6",
    "@types/json-pointer": "^1.0.34",
    "@types/json-schema": "^7.0.15",
    "@types/node": "25.x.x",
    "@types/node-forge": "1.3.14",
    "@types/readable-stream": "^4.0.21",
    "@types/urijs": "^1.19.25",
    "@types/ws": "^8.18.1",
    "@vitest/coverage-v8": "^4.0.4",
    "fast-check": "^4.0.0",
    "globals": "^17.0.0",
    "husky": "^9.1.6",
    "js-yaml": "^4.1.0",
    "shellcheck": "^4.1.0",
    "tsx": "^4.20.3",
    "undici": "^7.0.1",
    "vitest": "^4.0.4"
  },
  "overrides": {
    "glob": "^9.0.0"
  },
  "peerDependencies": {
    "@types/prompts": "2.4.9",
    "@typescript-eslint/eslint-plugin": "8.45.0",
    "@typescript-eslint/parser": "8.45.0",
    "esbuild": "0.25.10",
    "eslint": "9.36.0",
    "node-forge": "1.3.2",
    "prettier": "3.6.2",
    "prompts": "2.4.2",
    "typescript": "5.8.3",
    "uuid": "13.0.0"
  }
}
